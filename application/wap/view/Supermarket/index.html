<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
		<!--<title>农场超市</title>-->
		<title>趣味农场</title>
		<link rel="stylesheet" type="text/css" href="__WAP__/bootstrap-3.3.7/dist/css/bootstrap.min.css" />
		<link rel="stylesheet" type="text/css" href="__WAP__/css/header.css" />
		<link rel="stylesheet" type="text/css" href="__WAP__/css/style.css" />
		<link rel="stylesheet" type="text/css" href="__WAP__/css/spirit.css" />
		<link rel="stylesheet" type="text/css" href="__WAP__/css/media_quer.css" />
		<script src="__WAP__/js/jquery.js"></script>
		<link rel="stylesheet" type="text/css" href="__WAP__/css/media_quer-background.css" />
		<style type="text/css">
			#shopping_mall .text_con {
				position: relative;
			}

			#shopping_mall .text_con .f_r {
				width: 20px;
				height: 20px;
				background: url(__WAP__/img/bank/gou1.png);
				-moz-background-size: 100% 100%;
				background-size: 100% 100%;
				position: absolute;
				bottom: 0;
				right: 0;
			}

			.price {
				display: flex;
				    color: #6fd6ea;
			}

			.detail04 {
				width: 100%;
				position: fixed;
				/*bottom: 45px;*/
				bottom: 0;
				left: 0;
				height:  40px;
				background-color: white;
				display: flex;
				    justify-content: space-between;
				   /* border-top: 1px solid #d9d9d9;*/
				      border-top: 1px solid #F3F3F3;
				    font-size: 15px;
			}

			.detail04 div {
				line-height:  40px;
				height:  40px;
				display: flex;
				margin-left: 1rem;
			}

			.detail04 div:nth-child(1) span {
				color: #a9a9a9;

				font-size: 16px;
				margin: 0 0.1rem;
			}

			.detail04 div:nth-child(1) span.em {
				color: black;
			}

			.detail04 div:nth-child(2) p {
				line-height:  40px;
				height:  40px;
				padding: 0 1rem;
				background: linear-gradient(to right, #3db4cc, #6fd6ea);
				color: white;
			}

#dizs{
	width: 90vw;
	height: 50vh;
	background-color: rgba(255,255,255,1);
	position: fixed;
	top: 40px;
	left: 5vw;
	z-index: 1003;
	overflow: auto;
	border-radius: 15px;
	display: none;
SCROLLBAR-FACE-COLOR: rgba(0,0,0,.65); 
SCROLLBAR-HIGHLIGHT-COLOR:rgba(0,0,0,.65); 
SCROLLBAR-SHADOW-COLOR: rgba(0,0,0,.65); 
SCROLLBAR-3DLIGHT-COLOR:rgba(0,0,0,.65);  
SCROLLBAR-ARROW-COLOR: rgba(0,0,0,.65); 
SCROLLBAR-TRACK-COLOR: rgba(0,0,0,.65); 
SCROLLBAR-DARKSHADOW-COLOR:rgba(0,0,0,.65); 
SCROLLBAR-BASE-COLOR: rgba(0,0,0,.65); 

}
/*定义滚动条高宽及背景 高宽分别对应横竖滚动条的尺寸*/  
#dizs::-webkit-scrollbar  
{  
    width: 0px;  
    height: 0px;  
    background-color: rgba(0,0,0,0);
    opacity: 0; 
}  
  
/*定义滚动条轨道 内阴影+圆角*/  
#dizs::-webkit-scrollbar-track  
{  
    -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0) ;
    border-radius: 10px;  
    background-color: rgba(0,0,0,0);
     opacity: 0; 
}  
  
/*定义滑块 内阴影+圆角*/  
#dizs::-webkit-scrollbar-thumb  
{  
    border-radius: 10px;  
    -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0);
    background-color: rgba(0,0,0,0);
     opacity: 0; 
}  
#dizs li{
	width: 95%;
	height: 40px;
	line-height: 40px;	
	color: black;
	padding: 0px 40px 0px 15px;	
	font-size: 16px;
	margin: 5px  auto;
	border-radius: 10px;
	border: 1px solid #F4F4F4;
	position: relative;
	 white-space:nowrap; text-overflow:ellipsis; overflow:hidden;
}
#dizs li span{
	position: absolute;
	top: 0px;
	right: 10px;
	display: none;
	font-size: 18px;
	line-height: 40px;
	color: #6fd6ea;
}

#goodcover {
				display: none;
				position: fixed;
				top: 0;
				left: 0;
				width: 100vw;
				height: 100vh;
				background-color: black;
				z-index: 1001;
				-moz-opacity: 0.65;
				opacity: 0.65;
			}
			.header h3{
				width: 70%;
				margin: 0px  auto;
				 white-space:nowrap; text-overflow:ellipsis; overflow:hidden;
			}
		</style>
	</head>

	<body>
		<div class="wrapper" id="shopping_mall">
			<!--header -->
			<div class="header">
				<p style="position: absolute; top: 10px;left: 10px ;line-height: 20px;color: grey;" onclick="window.location='{:url("index/index")}'">首页</p>
				<h3>选择地址</h3>
				<a href="{:url('supermarket/dingdan')}" style="right: 10px;">我的订单</a>
			</div>
			<ul class="" id="dizs">
				<li>贵州省<span class="glyphicon glyphicon-pushpin"></span></li>
				<li>贵州省<span class="glyphicon glyphicon-pushpin"></span></li>
				<li>甘肃省<span class="glyphicon glyphicon-pushpin"></span></li>
				<li>宁夏回族自治区<span class="glyphicon glyphicon-pushpin"></span></li>
				
				<li>贵州省<span class="glyphicon glyphicon-pushpin"></span></li>
				<li>贵州省<span class="glyphicon glyphicon-pushpin"></span></li>
				<li>甘肃省<span class="glyphicon glyphicon-pushpin"></span></li>
				<li>宁夏回族自治区<span class="glyphicon glyphicon-pushpin"></span></li>
				<li>贵州省<span class="glyphicon glyphicon-pushpin"></span></li>
				<li>贵州省<span class="glyphicon glyphicon-pushpin"></span></li>
				<li>甘肃省<span class="glyphicon glyphicon-pushpin"></span></li>
				<li>宁夏回族自治区宁夏回族自治区宁夏回族自治区宁夏回族自治区宁夏回族自治区宁夏回族自治区宁夏回族自治区宁夏回族自治区<span class="glyphicon glyphicon-pushpin"></span></li>
				
			</ul>
			<div class="content infinite-scroll native-scroll">
				<!--超市物品展示-->
				<div>
					<ul class="integral_goods clearfix">
					{volist name="supermarket" id="data"}
						<li>
							<a href="{:url('Supermarket/info',['id'=>$data.id])}">
								<div class="pro_pic">
									<img src="{$data.image}">
								</div>
								<div class="text_int">
									<h5>{$data.name}</h5>
								</div>
							</a>
							<div class="text_con">
								<span class="price"><i>￥</i><i >{$data.price}</i></span>
								<div class="f_r" data-id="{$data.id}">
								</div>
							</div>
						</li>
					{/volist}

					</ul>
					<!--<div class="no_more">没有更多数据了哦</div>-->
				</div>
			</div>
			<!--footer-->
			<div class="detail04">
				<div class="">
					<span>共</span>
					<span class="em" id="numbers">{$shopping.num ?? '0'}</span>
					<span>件</span>
					<span>小计</span>
					<span>￥</span>
					<span class="em" id="qian">{$shopping.price ?? '0'}</span>

				</div>
				<div class="">
					<p onclick="window.location.href ='{:url("supermarket/gouwuche")}'">朕要购买</p>
				</div>
			</div>
			<!--<div class="footer">

				<a href="{:url('index/index')}">

					<span class="icons "></span>

					<p>农场</p>

				</a>

				<a href="{:url('Supermarket/index')}">
					<span class="icons"></span>
					<p>超市</p>
				</a>
				<a href="{:url('Discover/index')}">
					<span class="icons"></span>
					<p>发现</p>
				</a>
				<a href="{:url('member/index')}">
					<span class="icons"></span>
					<p>我的</p>
				</a>
			</div>-->
		</div>
		<div class="background" ></div>
		<div id="goodcover"></div>
		<script src="__WAP__/js/header.js" type="text/javascript" charset="utf-8"></script>
		<script src="__WAP__/js/jquery.fly.js" type="text/javascript" charset="utf-8"></script>

		<script type="text/javascript">
			/*footer 当前页选中状态*/
			$(".wrapper").css("padding-bottom","40px");
var offset = $("#numbers").offset();
			$(".f_r").click(function() {
				var men = parseInt($(this).prev().children("i:last-child").text());
				$("#numbers").text(parseInt($("#numbers").text()) + 1);
				$("#qian").text(parseInt($("#qian").text()) + men);
				var img = $(this).parent().prev().children("div:first-child").children("img:first-child").attr("src"); //获取当前点击图片链接
				var imgs = $(this).parent().prev().children("div:first-child").children("img:first-child");
				offset,
			flyer = $("<img class='u-flyer' src='"+img+"'/>");
				flyer.fly({
					start: {
						left: event.clientX,
						top: event.clientY
					},
					end: {
						left: offset.left,
						top: offset.top,
						width: 20,
						height: 20
					},
					onEnd: function() {
						/*$("#tip").show().animate({
							width: '200px'
						}, 300).fadeOut(500);*/ ////成功加入购物车动画效果
						this.destory(); //销毁抛物体
					}
				});
			sp_id = $(this).attr("data-id");
			$.ajax({
			    type : 'POST',
			    url : "{:url('supermarket/shopping')}",
			    data : {sp_id:sp_id},
			    success : function(data){

			    }
			})

			});
			$(".header h3").click(function(){
				$("#goodcover").css("display","block");
				$("#dizs").css("display","block");
			})
			$("#dizs li").click(function(){
				$("#goodcover").css("display","none");
				$(".header h3").text($(this).text());
				
				var tt = $("#dizs li").index($(this));
				$("#dizs li span").css("display","none");
				$("#dizs li").css("border-color","#F4F4F4");
				$("#dizs li:nth-child("+(tt+1)+")").css("border-color","#6fd6ea");
				$("#dizs li:nth-child("+(tt+1)+") span").css("display","block");
				$("#dizs").css("display","none");
			})
			$("#goodcover").click(function(){
				$("#goodcover").css("display","none");
				
				$("#dizs").css("display","none");
			})
		</script>
	</body>

</html>